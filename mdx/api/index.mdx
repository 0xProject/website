# Introduction

The 0x API is the easiest way to source liquidity from [0x Mesh](https://0x-org.gitbook.io/mesh/) as well as on-chain sources such as Kyber, Uniswap, Oasis, Curve and other decentralized exchange networks.
While the 0x Core Team hosts a version of the 0x API (subject to the [0x Terms of Service](https://0x.org/terms)), all the code is open source and available at the [0x-API GitHub repo](https://github.com/0xProject/0x-api).
If you run into a problem, don't hesitate to [open an issue](https://github.com/0xProject/0x-api/issues).

We offer hosted versions for different Ethereum networks. Requests for more networks, and questions/feedback in general should be directed at our [Discord](https://discordapp.com/invite/d3FTX3M).

| Network | Endpoint                  |
| ------- | ------------------------- |
| Mainnet | https://api.0x.org/       |
| Kovan   | https://kovan.api.0x.org/ |

## Versioning

Each 0x HTTP API `path` is versioned independently using URI versioning. The format is: `https://api.0x.org/<path>/<version>/<endpoint>`.

For example, you can request `https://api.0x.org/swap/v0/quote` which represents `v0` of the `quote` endpoint in the `swap` path.
URLs not adhering to this format are not supported.

A major version bump occurs whenever a backwards incompatible change occurs to an `endpoint`, in which case every `endpoint` in that `path` will be on the next version.
Old versions of the API will be deprecated and new features will be rolled out to them on a best-effort basis.

## Pagination

Requests that return potentially large collections are paginated and respond to the `page` and `perPage` parameters. For example:

<HttpCall path="/sra/v3/orders?page=3&perPage=20" />

Any endpoint that follows this convention will display the following:

<Notification type="alert">This endpoint is paginated.</Notification>

And will only document the objects in the `records` field.

### Request

| Query Param   | Description                                                                                     |
| --------------| ----------------------------------------------------------------------------------------------- |
| `page`        | (Optional, defaults to "1") The page index (1-indexed) requested in the collection.             |
| `perPage`     | (Optional, defaults to "20") The amount of records to return per page. The maximum is "1000".   |


### Response

| Field         | Description                                                                                     |
| --------------| ----------------------------------------------------------------------------------------------- |
| `page`        | The page index (1-indexed) of returned in the response (same as request if provided).           |
| `perPage`     | The amount of `records` requested in the pagination, but not necessarily returned.              |
| `total`       | The total amount of `records` in the collection (accross all pages).                            |
| `records`     | The actual `records` returned for this page of the collection.                                  |

If a query provides an unreasonable (ie. too high) `perPage` value, the response can return a validation error as specified in the [errors section](#errors).
If the query specifies a `page` that does not exist (ie. there are not enough `records`), the response will return an empty `records` array.

## Errors

Unless the spec defines otherwise, errors to bad requests should respond with HTTP 4xx or status codes.

### Common error codes

| Code | Reason                                  |
| ---- | --------------------------------------- |
| 400  | Bad Request â€“ Invalid request format    |
| 404  | Not found                               |
| 429  | Too many requests - Rate limit exceeded |
| 500  | Internal Server Error                   |
| 501  | Not Implemented                         |

### Error reporting format
For all 400 responses, see the [error response schema](https://github.com/0xProject/0x-monorepo/blob/development/packages/json-schemas/schemas/relayer_api_error_response_schema.json#L1).

```json
{
    "code": 101,
    "reason": "Validation failed",
    "validationErrors": [
        {
            "field": "maker",
            "code": 1002,
            "reason": "Invalid address"
        }
    ]
}
```

General error codes:

| Code | Reason                    |
| ---- | ------------------------- |
| 100  | Validation Failed         |
| 101  | Malformed JSON            |
| 102  | Order submission disabled |
| 103  | Throttled                 |
| 104  | Not Implemented           |
| 105  | Transaction Invalid       |

Validation error codes:

| Code | Reason                     |
| ---- | -------------------------- |
| 1000  | Required field            |
| 1001  | Incorrect format          |
| 1002  | Invalid address           |
| 1003  | Address not supported     |
| 1004  | Value out of range        |
| 1005  | Invalid signature or hash |
| 1006  | Unsupported option        |
| 1007  | Invalid 0x order          |


## Common Objects

This section outlines API JSON objects that are common to many endpoints.

### Signed Order

A [0x order](/docs/core-concepts#the-0x-order-message-format) with additional fields and ready to be consumed by our tooling and sent to the 0x [exchange contract](/docs/guides/v3-specification#exchange).

| Field                   | Description                                                                                                                                                                                                                                                                                                                            |
| ------------------------| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `makerAddress`          | The party that creates the order. The maker is also one of the two parties that will be involved in the trade if the order gets filled.                                                                                                                                                                                                |
| `takerAddress`          | The party that is allowed to fill the order. If set to a specific party, the order cannot be filled by anyone else. If left unspecified, anyone can fill the order.                                                                                                                                                                    |
| `makerAssetData`        | Contains all the identifying information about the asset(s) the order maker is trying to sell.                                                                                                                                                                                                                                         |
| `takerAssetData`        | Identifying information of the asset(s) the taker must trade in exchange for the maker's asset(s).                                                                                                                                                                                                                                     |
| `makerAssetAmount`      | Amount of the maker's asset(s) being offered by the maker.                                                                                                                                                                                                                                                                             |
| `takerAssetAmount`      | Amount of the taker's asset(s) the maker will accept in exchange for their maker asset(s). In order to calculate the price the maker is offering, one can divide the `makerAssetAmount` by the `takerAssetAmount` (the calculation is [a bit more complex](/docs/guides/v3-specification#assetproxy) if multiple assets are involved). |
| `expirationTimeSeconds` | Timestamp in seconds of when the order expires. Expired orders cannot be filled.                                                                                                                                                                                                                                                       |
| `salt`                  | A value that can be used to guarantee order uniqueness. Typically it is set to a random number.                                                                                                                                                                                                                                        |
| `feeRecipientAddress`   | The entity that will receive any fees stipulated by the order. This is typically used to incentivize off-chain order relay.                                                                                                                                                                                                            |
| `makerFeeAssetData`     | Identifying token information of the asset(s) the maker must pay to the feeRecipientAddress.                                                                                                                                                                                                                                           |
| `takerFeeAssetData`     | Identifying token information of the asset(s) the taker must pay to the feeRecipientAddress.                                                                                                                                                                                                                                           |
| `makerFee`              | The fee to be paid by the order maker to the `feeRecipientAddress` in the event of an order fill. Partial fills result in partial fees.                                                                                                                                                                                                |
| `takerFee`              | The fee to be paid by the taker to the `feeRecipientAddress` in the event of an order fill.                                                                                                                                                                                                                                            |
| `senderAddress`         | An advanced field that doesn't need to be set. It allows the maker to enforce that the order flow through some additional logic before it can be filled (e.g., a KYC whitelist) -- more on the ability to extend 0x later.                                                                                                             |
| `exchangeAddress`       | The address of the 0x exchange smart contract where the transaction should be sent to and that will settle the order.                                                                                                                                                                                                                  |
| `chainId`               | The ID of the Ethereum chain where the `exchangeAddress` is located.                                                                                                                                                                                                                                                                   |
| `signature`             | The signature of the fields above using the private key of `makerAddress`.                                                                                                                                                                                                                                                             |

## Misc.

*   All requests and responses should be of "application/json" content type.
*   All token amounts are sent in amounts of the smallest level of precision (base units). (e.g if a token has 18 decimal places, selling 1 unit of the token would show up as selling "1000000000000000000" base units by this API).
*   All addresses are sent as lower-case (non-checksummed) Ethereum addresses with the `0x` prefix.
*   All parameters should use **lowerCamelCase**.

# Swap

This API faciliates consuming the best-priced liquidity from [0x Mesh](https://0x-org.gitbook.io/mesh/) and the greater DEX ecosystem through the [ERC20BridgeProxy](https://github.com/0xProject/ZEIPs/issues/47).
We use smart order routing to split up your transaction across decentralized exchange networks to be filled with the lowest slippage possible.
Follow the "[Swap Tokens with 0x API](/docs/guides/swap-tokens-with-0x-api)" guide to see how to use it.

## GET /swap/v0/quote

Get an easy-to-consume quote for buying or selling any token.
The return format is a valid unsigned Ethereum transaction and can be submitted directly to an Ethereum node to complete the swap.
For transactions where the `sellToken` is not ETH, you will have to [set your allowances](/docs/guides/how-to-set-your-token-allowances).

### Request

Either a `sellAmount` or `buyAmount` is required.
When both are provided, `sellAmount` takes precedence over `buyAmount`.

| Query Param          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `sellToken`          | The ERC20 token address or symbol of the token you want to send. "ETH" can be provided as a valid `sellToken`.                                                                                                      |
| `buyToken`           | The ERC20 token address or symbol of the token you want to receive. (`/swap/v0/quote` doesn't support `buyToken` as "ETH", unless quote requested is to [unwrap](/docs/api#examples) "WETH".`)                                                                                                                                                 |
| `sellAmount`         | (Optional) The amount of `sellToken` (in `sellToken` base units) you want to send.                                                                                                                                       |
| `buyAmount`          | (Optional) The amount of `buyToken` (in `buyToken` base units) you want to receive.                                                                                                                                      |
| `slippagePercentage` | (Optional) The maximum acceptable slippage in % of the `buyToken` amount if `sellAmount` is provided, the maximum acceptable slippage in % of the `sellAmount` amount if `buyAmount` is provided. This parameter will change over time with market conditions. |
| `gasPrice`           | (Optional, defaults to ethgasstation "fast") The target gas price (in wei) for the swap transaction. If the price is too low to achieve the quote, an error will be returned.                                       |
| `takerAddress`       | (Optional) The address which will fill the quote. When provided the gas will be estimated and returned. An eth_call will also be performed. If this fails a Revert Error will be returned in the response.          |
| `excludedSources`    | (Optional) Liquidity sources (`Eth2Dai`, `Uniswap`, `Kyber`, `0x`, `LiquidityProvider` etc) that will not be included in the provided quote. Ex: `excludedSources=Uniswap,Kyber,Eth2Dai`. See [here](https://github.com/0xProject/0x-monorepo/blob/development/packages/asset-swapper/src/utils/market_operation_utils/types.ts#L27) for a full list of sources  |

### Response

| Field               | Description                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `price`             | If `buyAmount` was specified in the request it provides the price of `buyToken` in `sellToken` and vice versa. This price does not include the `slippage` provided in the request above, and therefore represents the best possible price. |
| `guaranteedPrice`   | The price which must be met or else the entire transaction will revert. This price is influenced by the `slippagePercentage` parameter. On-chain sources may encounter price movements from quote to settlement.   |
| `to`                | The address of the contract to send call `data` to.                                                                                                                                              |
| `data`              | The call data required to be sent to the `to` contract address.                                                                                                                                  |
| `value`             | The amount of ether (in wei) that should be sent with the transaction. (Assuming protocolFee is paid in ether).                                                                                  |
| `gasPrice`          | The gas price (in wei) that should be used to send the transaction. The transaction needs to be sent with this `gasPrice` or lower for the transaction to be successful.                         |
| `gas`               | The estimated gas limit that should be used to send the transaction. A computed estimate is returned in all responses, for a more accurate estimate provide a `takerAddress` in the request.                                                         |
| `protocolFee`       | The amount of ether paid towards the protocol fee (in wei).                                                                                                                                      |
| `buyAmount`         | The amount of `buyToken` (in `buyToken` units) that would be bought in this swap. Certain on-chain sources do not allow specifying `buyAmount`, when using `buyAmount` these sources are excluded. |
| `sellAmount`        | The amount of `sellToken` (in `sellToken` units) that would be sold in this swap.  Specifying `sellAmount` is the recommended way to interact with 0xAPI as it covers all on-chain sources.                                                                                                             |
| `sources`           | The percentage distribution of `buyAmount` or `sellAmount` split between each liquidity source. Ex: `[{ name: '0x', proportion: "0.8" }, { name: 'Kyber', proportion: "0.2"}]`                   |
| `buyTokenAddress`   | The ERC20 token address of the token you want to receive in quote.                                                                                                                               |
| `sellTokenAddress`  | The ERC20 token address of the token you want to sell with quote.                                                                                                                               |
| `orders`            | [Signed orders](/docs/api#signed-order) that data is comprised of.                                                                                                                               |

### Examples

#### Simple DAI Buy with WETH

Specify a `buyToken`, `sellToken` and either a `sellAmount` to get a simple quote of 1 WETH for DAI.

<HttpCall fontSize="15px" path="/swap/v0/quote?buyToken=DAI&sellToken=WETH&sellAmount=100000000000000000" />


<CodeTabs tabs={['200 - No Taker Address']}>

```json
{
  "price": "144.421473096141677522",
  "guaranteedPrice": "144.421473096141677522",
  "to": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
  "data": "0xa6c3bf3300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000000000000000340000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000006924a03bb710eaf199ab6ac9f2bb148215ae9b5d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001173c7c28d5151c0000000000000000000000000000000000000000000000000001eef8a770951ff58700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e8717de000000000000000000000000000000000000000000000000000001713fb3681a00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000024f47261b00000000000000000000000006b175474e89094c44da98b954eedeac495271d0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000421c98d924e09d37829287c9222fb98078a2cc98c3f3e9627bc09cfbbe9aa44816192c4379662f27f4d2c8706efdbfb19155a33029fca88a5832c85330cb98f1573703000000000000000000000000000000000000000000000000000000000000869584cd0000000000000000000000001000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000005e87176c",
  "value": "1200000000000000",
  "gas": "180000",
  "gasPrice": "8000000000",
  "protocolFee": "1200000000000000",
  "buyTokenAddress": "0x6b175474e89094c44da98b954eedeac495271d0f",
  "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
  "buyAmount": "144421473096141677522",
  "sellAmount": "1000000000000000000",
  "sources": [
    {
      "name": "0x",
      "proportion": "1"
    }
  ],
  "orders": [
    {
      "chainId": 1,
      "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
      "makerAddress": "0x6924a03bb710eaf199ab6ac9f2bb148215ae9b5d",
      "takerAddress": "0x0000000000000000000000000000000000000000",
      "feeRecipientAddress": "0x1000000000000000000000000000000000000011",
      "senderAddress": "0x0000000000000000000000000000000000000000",
      "makerAssetAmount": "5151000000000000000000",
      "takerAssetAmount": "35666441350940718471",
      "makerFee": "0",
      "takerFee": "0",
      "expirationTimeSeconds": "1585911774",
      "salt": "1585911654426",
      "makerAssetData": "0xf47261b00000000000000000000000006b175474e89094c44da98b954eedeac495271d0f",
      "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "makerFeeAssetData": "0x",
      "takerFeeAssetData": "0x",
      "signature": "0x1c98d924e09d37829287c9222fb98078a2cc98c3f3e9627bc09cfbbe9aa44816192c4379662f27f4d2c8706efdbfb19155a33029fca88a5832c85330cb98f1573703"
    }
  ]
}
```
</CodeTabs>

#### Excluding liquidity sources
Supply a comma delimited list of liquidty source names to exclude them from the aggregator logic. See [here](https://github.com/0xProject/0x-monorepo/blob/development/packages/asset-swapper/src/utils/market_operation_utils/types.ts#L27) for a full list of sources.

<HttpCall fontSize="12px" path="/swap/v0/quote?buyToken=DAI&sellToken=ETH&sellAmount=1000000000000000000&excludedSources=0x,Kyber" />

<CodeTabs tabs={['200 - No 0x, Kyber']}>

```json
{
  "price": "143.777848047212680973",
  "guaranteedPrice": "142.340069566740554157",
  "to": "0x6958f5e95332d93d21af0d7b9ca85b8212fee0a5",
  "data": "0x939ce6ba00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000003e0000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000004600000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007b75d831ef5f5e1b30000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e8726313095e3651d98b579df75c1e789f495dc2f53229ce1e3c52f7fb0969c4229264d00000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000000a4dc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f00000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000869584cd0000000000000000000000001000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000005e871821",
  "value": "1001200000000000000",
  "gas": "360000",
  "gasPrice": "8000000000",
  "protocolFee": "1200000000000000",
  "buyTokenAddress": "0x6b175474e89094c44da98b954eedeac495271d0f",
  "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
  "buyAmount": "143777848047212680973",
  "sellAmount": "1000000000000000000",
  "sources": [
    {
      "name": "Uniswap",
      "proportion": "1"
    }
  ],
  "orders": [
    {
      "chainId": 1,
      "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
      "makerAddress": "0x36691c4f426eb8f42f150ebde43069a31cb080ad",
      "takerAddress": "0x0000000000000000000000000000000000000000",
      "feeRecipientAddress": "0x1000000000000000000000000000000000000011",
      "senderAddress": "0x0000000000000000000000000000000000000000",
      "makerAssetAmount": "142340069566740554163",
      "takerAssetAmount": "1000000000000000000",
      "makerFee": "0",
      "takerFee": "0",
      "expirationTimeSeconds": "1585915441",
      "salt": "21975846367140977999582746082278130305815899217968354472846045822226488960589",
      "makerAssetData": "0xdc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f00000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "makerFeeAssetData": "0x",
      "takerFeeAssetData": "0x",
      "signature": "0x04"
    }
  ]
}
```
</CodeTabs>

#### Supplying a Taker Address

Supply a `takerAddress` to use an [`eth_call`](https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_call) to validate the taker is able to fill the quote.

<HttpCall fontSize="12px" path="/swap/v0/quote?buyToken=DAI&sellToken=ETH&sellAmount=1000000000000000000&takerAddress=0xab5801a7d398351b8be11c439e05c5b3259aec9b" />

<CodeTabs tabs={['200 - Taker Address']}>

```json
{
  "price": "143.699999999999999956",
  "guaranteedPrice": "142.26299999999999995",
  "to": "0x6958f5e95332d93d21af0d7b9ca85b8212fee0a5",
  "data": "0x939ce6ba00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000460000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000991c745401d5b5e469b8c3e2cb02c748f08754f1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007b64bb4c221657fd40000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e8726d63b1c70d618fb31b762d1a97e63c0c5ed3cd46b0fe2ca128c987d68f5ff1d813800000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000000a4dc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f000000000000000000000000991c745401d5b5e469b8c3e2cb02c748f08754f100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000869584cd0000000000000000000000001000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000005e8718c6",
  "value": "1001200000000000000",
  "gas": "660000",
  "from": "0xab5801a7d398351b8be11c439e05c5b3259aec9b",
  "gasPrice": "8000000000",
  "protocolFee": "1200000000000000",
  "buyTokenAddress": "0x6b175474e89094c44da98b954eedeac495271d0f",
  "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
  "buyAmount": "143699999999999999956",
  "sellAmount": "1000000000000000000",
  "sources": [
    {
      "name": "Eth2Dai",
      "proportion": "1"
    }
  ],
  "orders": [
    {
      "chainId": 1,
      "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
      "makerAddress": "0x991c745401d5b5e469b8c3e2cb02c748f08754f1",
      "takerAddress": "0x0000000000000000000000000000000000000000",
      "feeRecipientAddress": "0x1000000000000000000000000000000000000011",
      "senderAddress": "0x0000000000000000000000000000000000000000",
      "makerAssetAmount": "142262999999999999956",
      "takerAssetAmount": "1000000000000000000",
      "makerFee": "0",
      "takerFee": "0",
      "expirationTimeSeconds": "1585915606",
      "salt": "26736708551876769290749665605026792211492277326116813148921512182869403730232",
      "makerAssetData": "0xdc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f000000000000000000000000991c745401d5b5e469b8c3e2cb02c748f08754f100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "makerFeeAssetData": "0x",
      "takerFeeAssetData": "0x",
      "signature": "0x04"
    }
  ]
}
```
</CodeTabs>

If the [`eth_call`](https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_call) fails (because `takerAddress` cannot complete the transaction), the response will include reasons for the failure.

<CodeTabs tabs={['400 - Fill Error']}>

```json
{
  "code": 105,
  "reason": "IncompleteFillError",
  "values": {
    "error": 0,
    "expectedAssetFillAmount": "10000000",
    "actualAssetFillAmount": "0"
  }
}
```
</CodeTabs>

#### Forwarder Transactions

Use "ETH" as the `sellToken` to receive a [Forwarder](/docs/guides/v3-forwarder-specification) transaction, which will allow you to swap without having set allowances on your tokens. Note: The Forwarder contract is updated over time and may have a different address.

<HttpCall fontSize="16px" path="/swap/v0/quote?buyToken=DAI&sellToken=ETH&sellAmount=1000000000000000000" />

<CodeTabs tabs={['200 - Forwarder Transaction']}>

```json
{
  "price": "143.269301790571453858",
  "guaranteedPrice": "141.836608772665739312",
  "to": "0x6958f5e95332d93d21af0d7b9ca85b8212fee0a5",
  "data": "0x939ce6ba00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000003e0000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000004600000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007b060dc3238cb88370000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e872727886dbff7296d83e59095e5e0f2fc4ba33c32a07b31507b48431c0d6be96e3b1200000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000000a4dc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f00000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000869584cd0000000000000000000000001000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000005e871917",
  "value": "1001125000000000000",
  "gas": "364685",
  "from": "0xab5801a7d398351b8be11c439e05c5b3259aec9b",
  "gasPrice": "7500000000",
  "protocolFee": "1125000000000000",
  "buyTokenAddress": "0x6b175474e89094c44da98b954eedeac495271d0f",
  "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
  "buyAmount": "143269301790571453858",
  "sellAmount": "1000000000000000000",
  "sources": [
    {
      "name": "Uniswap",
      "proportion": "1"
    }
  ],
  "orders": [
    {
      "chainId": 1,
      "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
      "makerAddress": "0x36691c4f426eb8f42f150ebde43069a31cb080ad",
      "takerAddress": "0x0000000000000000000000000000000000000000",
      "feeRecipientAddress": "0x1000000000000000000000000000000000000011",
      "senderAddress": "0x0000000000000000000000000000000000000000",
      "makerAssetAmount": "141836608772665739319",
      "takerAssetAmount": "1000000000000000000",
      "makerFee": "0",
      "takerFee": "0",
      "expirationTimeSeconds": "1585915687",
      "salt": "61708458634406992402071264483823080843593030011014492674458984037873429134098",
      "makerAssetData": "0xdc1600f30000000000000000000000006b175474e89094c44da98b954eedeac495271d0f00000000000000000000000036691c4f426eb8f42f150ebde43069a31cb080ad00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "makerFeeAssetData": "0x",
      "takerFeeAssetData": "0x",
      "signature": "0x04"
    }
  ]
}
```
</CodeTabs>

#### Wrapping and unwrapping between ETH and WETH

Easily wrap and unwrap between ETH and WETH by requesting a swap quote by setting `sellToken` and 'buyToken' as either 'WETH' or 'ETH'. The swap quote returned will provide the calldata to directly interact with the `WETH9` contract and not with 0x exchange contracts.

##### Wrap ETH

<HttpCall fontSize="16px" path="/swap/v0/quote?buyToken=ETH&sellToken=WETH&buyAmount=10000000" />

<CodeTabs tabs={['200 - Wrapping Transaction']}>

```json
{
    "price": "1",
    "guaranteedPrice": "1",
    "to": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "data": "0x2e1a7d4d0000000000000000000000000000000000000000000000000000000000989680869584cd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e7cf06f",
    "value": "0",
    "gas": "40000",
    "gasPrice": "6000000000",
    "protocolFee": "0",
    "buyTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "buyAmount": "10000000",
    "sellAmount": "10000000",
    "sources": [],
    "orders": []
}
```
</CodeTabs>

##### Unwrap WETH

<HttpCall fontSize="16px" path="/swap/v0/quote?buyToken=WETH&sellToken=ETH&buyAmount=10000000" />

<CodeTabs tabs={['200 - Unwrapping Transaction']}>

```json
{
    "price": "1",
    "guaranteedPrice": "1",
    "to": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "data": "0xd0e30db0869584cd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e7cf052",
    "value": "10000000",
    "gas": "60000",
    "gasPrice": "6000000000",
    "protocolFee": "0",
    "buyTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "sellTokenAddress": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "buyAmount": "10000000",
    "sellAmount": "10000000",
    "sources": [],
    "orders": []
}
```
</CodeTabs>

## GET /swap/v0/tokens

Get the tokens with known symbols available for trading in the [`/swap/v0/quote`](#get-swapv0quote) endpoint.
If a token is not returned, it may still be available but not queryable by token symbol.

### Request

No request params.

### Response

#### Record

| Field         | Description                                             |
| ------------- | --------------------------------------------------------|
| `symbol`      | The symbol representing the Ethereum token.             |
| `address`     | The smart contract address of the token.                |
| `name`        | A human-friendly name for the token.                    |
| `decimals`    | The number of decimals needed to represent the token.   |

### Examples

#### Get all available tokens

<HttpCall path="/swap/v0/tokens" />

<CodeTabs tabs={['200 - OK']}>

```json
{
  "records": [
    {
      "symbol": "DAI",
      "address": "0x6b175474e89094c44da98b954eedeac495271d0f",
      "name": "Dai Stablecoin",
      "decimals": 18
    },
    {
      "symbol": "REP",
      "address": "0x1985365e9f78359a9B6AD760e32412f4a445E862",
      "name": "Augur Reputation",
      "decimals": 18
    },
    {
      "symbol": "WETH",
      "address": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
      "name": "Wrapped Ether",
      "decimals": 18
    },
    {
      "symbol": "ZRX",
      "address": "0xe41d2489571d322189246dafa5ebde1f4699f498",
      "name": "0x Protocol Token",
      "decimals": 18
    },
    {
      "symbol": "USDC",
      "address": "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",
      "name": "USD Coin",
      "decimals": 6
    },
    {
      "symbol": "BAT",
      "address": "0x0d8775f648430679a709e98d2b0cb6250d2887ef",
      "name": "Basic Attention Token",
      "decimals": 18
    },
    {
      "symbol": "MKR",
      "address": "0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2",
      "name": "Maker",
      "decimals": 18
    },
    {
      "symbol": "WBTC",
      "address": "0x2260fac5e5542a773aa44fbcfedf7c193bc2c599",
      "name": "Wrapped BTC",
      "decimals": 8
    },
    {
      "symbol": "SNX",
      "address": "0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f",
      "name": "Synthetix Network Token",
      "decimals": 18
    },
    {
      "symbol": "SUSD",
      "address": "0x57ab1e02fee23774580c119740129eac7081e9d3",
      "name": "sUSD",
      "decimals": 18
    },
    {
      "symbol": "KNC",
      "address": "0xdd974d5c2e2928dea5f71b9825b8b646686bd200",
      "name": "Kyber Network Crystal",
      "decimals": 18
    },
  ]
}
```
</CodeTabs>

## GET /swap/v0/prices

Get the amount of `sellToken` to purchase one unit (not base unit, one unit adjusted by number of decimals for asset) for tokens supported by `/swap/v0/*` endpoints.
If a token is not returned, it may still be available but not queryable by token symbol.

### Request

| Query Param          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `sellToken`          | (Optional, defaults to "WETH") The ERC20 token address or symbol of the token you want to get the price of tokens in. "ETH" can be provided as a valid `sellToken`.                                                                                                      |

### Response

Response will be an array of token symbols and the respective price in `sellToken` for one buy unit.

| Field         | Description                                                           |
| ------------- | ----------------------------------------------------------------------|
| `symbol`      | The symbol representing the Ethereum token.                           |
| `price`       | The price of `symbol` in `sellToken`.   |

### Examples

#### Get price of tokens in DAI

<HttpCall path="/swap/v0/prices?sellToken=DAI" />

<CodeTabs tabs={['200 - OK']}>

```json
{
    "records": [
        {
            "symbol": "REP",
            "price": "12.698115840934444557"
        },
        {
            "symbol": "WETH",
            "price": "230.093517897509429761"
        },
        {
            "symbol": "ZRX",
            "price": "0.279612731616675046"
        },
        {
            "symbol": "USDC",
            "price": "0.997928"
        },
    ]
}
```

</CodeTabs>

# Meta Transactions

This API makes it easy for integrators to offer their users a meta-transaction trading experience. It provides a superset of the liquidity available via the [Swap API](/docs/api#swap) (additionally including RFQ liquidity), and also allows integrators to submit the transaction on behalf of their users. This allows them to subsidize the gas cost and protocol fees, removing the need for their users to own Ether.

Follow the "[Unlocking meta-transaction swaps with 0x API](/docs/guides/unlocking-meta-transaction-swaps)" guide to see how to use it.

## GET /meta_transaction/v0/price

The price endpoint returns an indicative quote to the caller. An indicative quote is non-binding, but representative of the best price the taker would receive were a trade to occur right now. Once a taker has decided they wish to perform the trade, a final quote request should be made to the `/quote` endpoint.

### Request

Either a `sellAmount` or `buyAmount` is required.
When both are provided, `sellAmount` takes precedence over `buyAmount`.

| Query Param          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `takerAddress`       | The address which will fill the quote.          |
| `sellToken`          | The ERC20 token address or symbol of the token you want to send. "ETH" is not supported, use "WETH" instead.                                                                                                      |
| `buyToken`           | The ERC20 token address or symbol of the token you want to receive. "ETH" is not supported, use "WETH" instead.`)                                                                                                                                                 |
| `sellAmount`         | (Optional) The amount of `sellToken` (in `sellToken` base units) you want to send.                                                                                                                                       |
| `buyAmount`          | (Optional) The amount of `buyToken` (in `buyToken` base units) you want to receive.                                                                                                                                      |
| `slippagePercentage` | (Optional) The maximum acceptable slippage in % of the `buyToken` amount if `sellAmount` is provided, the maximum acceptable slippage in % of the `sellAmount` amount if `buyAmount` is provided. This parameter will change over time with market conditions. |
| `excludedSources`    | (Optional) Liquidity sources (`Eth2Dai`, `Uniswap`, `Kyber`, `0x`, `LiquidityProvider` etc) that will not be included in the provided quote. Ex: `excludedSources=Uniswap,Kyber,Eth2Dai`. See [here](https://github.com/0xProject/0x-monorepo/blob/development/packages/asset-swapper/src/utils/market_operation_utils/types.ts#L27) for a full list of sources  |

### Response

| Field               | Description                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `price`             | If `buyAmount` was specified in the request it provides the price of `buyToken` in `sellToken` and vice versa. This price does not include the `slippage` provided in the request above, and therefore represents the best possible price. |
| `buyAmount`         | The amount of `buyToken` (in `buyToken` units) that would be bought in this swap. Certain on-chain sources do not allow specifying `buyAmount`, when using `buyAmount` these sources are excluded. |
| `sellAmount`        | The amount of `sellToken` (in `sellToken` units) that would be sold in this swap.  Specifying `sellAmount` is the recommended way to interact with 0xAPI as it covers all on-chain sources.                                                                                                             |
| `buyTokenAddress`   | The ERC20 token address of the token you want to receive in quote.                                                                                                                               |
| `sellTokenAddress`  | The ERC20 token address of the token you want to sell with quote.                                                                                                                               |
| `sources`           | The percentage distribution of `buyAmount` or `sellAmount` split between each liquidity source. Ex: `[{ name: '0x', proportion: "0.8" }, { name: 'Kyber', proportion: "0.2"}]`                   |

## GET /meta_transaction/v0/quote

When a trader has shown an intent to complete a trade, calling this `/quote` endpoint will return the hash of a [0x transaction](https://github.com/0xProject/0x-protocol-specification/blob/master/v3/v3-specification.md#transactions) for them to sign. In signing the 0x transaction, they are agreeing to the details of the trade. 0x transactions are a 0x-native feature that enables meta-transactions by separating the taker of a trade, from the party submitting the Ethereum transaction. Once the trader has signed the 0x transaction hash, the integrator should send it to the `/submit` endpoint. 

### Request

Either a `sellAmount` or `buyAmount` is required.
When both are provided, `sellAmount` takes precedence over `buyAmount`.

| Query Param          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `takerAddress`       | The address which will fill the quote.          |
| `sellToken`          | The ERC20 token address or symbol of the token you want to send. "ETH" is not supported, use "WETH" instead.                                                                                                      |
| `buyToken`           | The ERC20 token address or symbol of the token you want to receive. "ETH" is not supported, use "WETH" instead.`)                                                                                                                                                 |
| `sellAmount`         | (Optional) The amount of `sellToken` (in `sellToken` base units) you want to send.                                                                                                                                       |
| `buyAmount`          | (Optional) The amount of `buyToken` (in `buyToken` base units) you want to receive.                                                                                                                                      |
| `slippagePercentage` | (Optional) The maximum acceptable slippage in % of the `buyToken` amount if `sellAmount` is provided, the maximum acceptable slippage in % of the `sellAmount` amount if `buyAmount` is provided. This parameter will change over time with market conditions. |
| `excludedSources`    | (Optional) Liquidity sources (`Eth2Dai`, `Uniswap`, `Kyber`, `0x`, `LiquidityProvider` etc) that will not be included in the provided quote. Ex: `excludedSources=Uniswap,Kyber,Eth2Dai`. See [here](https://github.com/0xProject/0x-monorepo/blob/development/packages/asset-swapper/src/utils/market_operation_utils/types.ts#L27) for a full list of sources  |

### Response

| Field               | Description                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `price`             | If `buyAmount` was specified in the request it provides the price of `buyToken` in `sellToken` and vice versa. This price does not include the `slippage` provided in the request above, and therefore represents the best possible price. |
| `buyAmount`         | The amount of `buyToken` (in `buyToken` units) that would be bought in this swap. Certain on-chain sources do not allow specifying `buyAmount`, when using `buyAmount` these sources are excluded. |
| `sellAmount`        | The amount of `sellToken` (in `sellToken` units) that would be sold in this swap.  Specifying `sellAmount` is the recommended way to interact with 0xAPI as it covers all on-chain sources.   
| `buyTokenAddress`   | The ERC20 token address of the token you want to receive in quote.                                                                                                                               |
| `sellTokenAddress`  | The ERC20 token address of the token you want to sell with quote.                                                                                                                               |                                                                                                          |
| `zeroExTransactionHash`           | The 0x transaction hash that must be signed by the trader.                   |
| `zeroExTransaction`           | The 0x transaction struct containing the encoded calldata that calls a 0x exchange contract method with the best-priced orders as a parameter.                   |
| `sources`           | The percentage distribution of `buyAmount` or `sellAmount` split between each liquidity source. Ex: `[{ name: '0x', proportion: "0.8" }, { name: 'Kyber', proportion: "0.2"}]`                   |
| `orders`            | [Signed orders](/docs/api#signed-order) that data is comprised of.                                                                                                                               |

## POST /meta_transaction/v0/submit

This endpoint accepts a signed 0x transaction hash and will do one of two things: (1) submit the Ethereum transaction executing the trade encoded in the 0x transaction OR (2) return an unsigned Ethereum transaction that executes the 0x transaction. (1) occurs if the request is sent with a whitelisted `0x-api-key` header or if a liquidity provider is willing to submit trades their involved in on the taker's behalf. If neither of these is true, it returns the unsigned Ethereum transaction for either the end user or integrator/dApp to sign and broadcast. 

### Request

| HTTP Header          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `0x-api-key`          | A 0x api key identifying the caller to the API.                                                                                                      |


| Body Field          | Description                                                                                                                                                                                                         |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `signature`          | 0x transaction hex-encoded signature.                                                                                                      |
| `zeroExTransaction`           | The 0x transaction struct corresponding to the supplied signature.                                                                                                                                                 |

### Responses

#### Case (1)

HTTP Status: 200

| Field               | Description                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `ethereumTransactionHash`             | The hash of the signed Ethereum transaction executing the 0x transaction. |
| `signedEthereumTransaction`         | The hex-encoded signed Ethereum transaction that can be re-broadcast if desired (0x API has already broadcast it as well). |

##### Example

<HttpCall verb="POST" path="/meta_transaction/v0/submit">

```json
{
    "zeroExTransaction": {
        "data": "0x8bc8efb300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000002faf080000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cb744534a44083acd8c3b0b0b2d6e06faa50b9aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a258b39954cef5cb142fd567a46cddb31a67012400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000642461c49b3800000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005eaa6a5100000000000000000000000000000000000000000000000000000171a5a2cdbc00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b00000000000000000000000009f8f72aa9304c8b593d555f12ef6589cc3a579a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000421c071bfac0372362a2535661d1b9f4e59c157a4905c01c223fd1fb1ed24d9425040a42cdeba5078f508373c1305d26dbce52ac25402703f96c3af407e9fdbc4cc703000000000000000000000000000000000000000000000000000000000000",
        "salt": "30007552728728725935139338344112382286974839535123538074006558836619765084422",
        "signerAddress": "0x75be4f78aa3699b3a348c84bdb2a96c3dbb5e2ef",
        "gasPrice": "12000000000",
        "expirationTimeSeconds": "1587650683",
        "domain": {
            "chainId": 1,
            "verifyingContract": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef"
        }
    },
    "signature": "0x1bbae1ea238b5b2d0650d4e8382e938e800ab67a98e8a36775e402676c7aaf25ba448210e8e2f93dd229504e8b05975cc79d2af34f26710820c3e2939b02e94c1a03"
}
```

</HttpCall>

<CodeTabs tabs={['200 - OK']}>

```json
{
    "ethereumTransactionHash": "0x1cbde04bb4d2e0fd396a6dc637f623cf6c29e808e7452ff739b119c27c392c93",
    "signedEthereumTransaction": "0xf906120185028fa6ae00830340009461935cbdd02287b511119ddb11aeb42f1593b7ef8705dcaa8fe12000b905a42280c910000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000005206a92e4f8e4e8abf38c89d3595373307546d22053fb6e415fd70aa9a0e24611d3000000000000000000000000000000000000000000000000000000005ea1a023000000000000000000000000000000000000000000000000000000028fa6ae0000000000000000000000000075be4f78aa3699b3a348c84bdb2a96c3dbb5e2ef00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000004048bc8efb300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000002faf080000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cb744534a44083acd8c3b0b0b2d6e06faa50b9aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a258b39954cef5cb142fd567a46cddb31a67012400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000642461c49b3800000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005eaa6a5100000000000000000000000000000000000000000000000000000171a5a2cdbc00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b00000000000000000000000009f8f72aa9304c8b593d555f12ef6589cc3a579a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000421c071bfac0372362a2535661d1b9f4e59c157a4905c01c223fd1fb1ed24d9425040a42cdeba5078f508373c1305d26dbce52ac25402703f96c3af407e9fdbc4cc7030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000421b7acaf075ea95b925c763d96362451b85ad5bd3bae2dceab34f9aacbe22fd87cb3b61844a9051acb722c2b24c96036f82caca28a5588b7442a3dddb57e0e980e90300000000000000000000000000000000000000000000000000000000000025a079c75f11ab81e1d9a85f206895892c1863d17e731bab4aa7adbdcec80448f190a06f32c397f4d051e78f3769869fcd42a2e8f63f37073693d52d6656f9d781bacb"
}
```
</CodeTabs>

#### Case (2)

HTTP Status: 403

| Field               | Description                                                                                                                                                                                      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `code`             | 106 |
| `reason`         | "Unable to submit transaction on behalf of taker" |
| `ethereumTransaction`         | The raw Ethereum transaction the caller must sign and broadcast to execute the trade encoded in the 0x transaction. |

##### Example

<HttpCall verb="POST" path="/meta_transaction/v0/submit">

```json
{
    "zeroExTransaction": {
        "data": "0x8bc8efb300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000002faf080000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cb744534a44083acd8c3b0b0b2d6e06faa50b9aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a258b39954cef5cb142fd567a46cddb31a67012400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000642461c49b3800000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005eaa6a5100000000000000000000000000000000000000000000000000000171a5a2cdbc00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b00000000000000000000000009f8f72aa9304c8b593d555f12ef6589cc3a579a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000421c071bfac0372362a2535661d1b9f4e59c157a4905c01c223fd1fb1ed24d9425040a42cdeba5078f508373c1305d26dbce52ac25402703f96c3af407e9fdbc4cc703000000000000000000000000000000000000000000000000000000000000",
        "salt": "30007552728728725935139338344112382286974839535123538074006558836619765084422",
        "signerAddress": "0x75be4f78aa3699b3a348c84bdb2a96c3dbb5e2ef",
        "gasPrice": "12000000000",
        "expirationTimeSeconds": "1587650683",
        "domain": {
            "chainId": 1,
            "verifyingContract": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef"
        }
    },
    "signature": "0x1bbae1ea238b5b2d0650d4e8382e938e800ab67a98e8a36775e402676c7aaf25ba448210e8e2f93dd229504e8b05975cc79d2af34f26710820c3e2939b02e94c1a03"
}
```

</HttpCall>

<CodeTabs tabs={['200 - OK']}>

```json
{
    "code": 106,
    "reason": "Unable to submit transaction on behalf of taker",
    "ethereumTransaction": {
        "data": "0x2280c91000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000520af5d3a73e47352167d062eebe164e2ed60f2c663b3222f5ae5e778902ce0d3fd000000000000000000000000000000000000000000000000000000005ea1a37500000000000000000000000000000000000000000000000000000002cb41780000000000000000000000000075be4f78aa3699b3a348c84bdb2a96c3dbb5e2ef00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000004048bc8efb300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000002faf080000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cb744534a44083acd8c3b0b0b2d6e06faa50b9aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a258b39954cef5cb142fd567a46cddb31a67012400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000642461c49b3800000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005eaa6a5100000000000000000000000000000000000000000000000000000171a5a2cdbc00000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000024f47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024f47261b00000000000000000000000009f8f72aa9304c8b593d555f12ef6589cc3a579a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000421c071bfac0372362a2535661d1b9f4e59c157a4905c01c223fd1fb1ed24d9425040a42cdeba5078f508373c1305d26dbce52ac25402703f96c3af407e9fdbc4cc7030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000421c89f1ba8e769551d32457101e11c50ef188b6ba3a3b4bf8a78089f930e8a074d9592450b75155375b37634b6b79b84779d873a25f7d84d6b6947e90e7eca38ecd03000000000000000000000000000000000000000000000000000000000000",
        "gasPrice": "0x2cb417800",
        "gas": "0x34000",
        "value": "0x6651728988000",
        "to": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
    }
}
```
</CodeTabs>

# SRA

The Standard Relayer API is an API specification that is implemented by several 0x relayers (exchanges), including [Radar Relay](https://developers.radarrelay.com/api/0x-sra) and [Bamboo Relay](https://sra.bamboorelay.com/zrx.html).
It allows you to interact with the liquidity of a certain relayer, including querying and posting to their orderbook.
In the 0x API case, it allows you to query and post to [0x Mesh](https://0x-org.gitbook.io/mesh/).
The 0x API provides a superset of the SRA, and contains functionality that is not strictly part of the spec.

## GET /sra/v3/asset_pairs

Retrieves a list of available asset pairs and the information required to trade them.

<Notification type="alert">This endpoint is paginated.</Notification>

### Request

If either `assetDataA` or `assetDataB` are specified, the response will only return pairs that include that asset.
If both `assetDataA` and `assetDataB` are specified, the response will only return that pair.

| Query Param  | Description                                                                                                                                                 |
| ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `assetDataA` | (Optional) A filter on the type of asset your may want information about in the form of [asset data](/docs/guides/v3-specification#assetdata).              |
| `assetDataB` | (Optional) A filter on the type of asset your may want information about in the form of [asset data](/docs/guides/v3-specification#assetdata).              |


### Response

#### Record

| Field         | Description                    |
| ------------- | -------------------------------|
| `assetDataA`  | AssetData info object (below). |
| `assetDataB`  | AssetData info object (below). |

#### AssetData Info

| Field         | Description                                                                            |
| ------------- | ---------------------------------------------------------------------------------------|
| `minAmount`   | The minimum trade amount the relayer will accept.                                      |
| `maxAmount`   | The maximum trade amount the relayer will accept.                                      |
| `precision`   | The desired price precision for this orderbook.                                        |
| `assetData`   | The [asset data](/docs/guides/v3-specification#assetdata) representation of the asset. |


### Examples

#### Simple Request

<HttpCall path="/sra/v3/asset_pairs?assetDataA=0xf47261b...1f4699f498" />

<CodeTabs tabs={['200 - OK']}>

```json
{
    "total": 43,
    "page": 1,
    "perPage": 100,
    "records": [
        {
            "assetDataA": {
                "minAmount": "0",
                "maxAmount": "10000000000000000000",
                "precision": 5,
                "assetData": "0xf47261b0000000000000000000000000e41d2489571d322189246dafa5ebde1f4699f498"
            },
            "assetDataB": {
                "minAmount": "0",
                "maxAmount": "50000000000000000000",
                "precision": 5,
                "assetData": "0x02571792000000000000000000000000371b13d97f4bf77d724e78c16b7dc74099f40e840000000000000000000000000000000000000000000000000000000000000063"
            }
        },
    ]
}
```
</CodeTabs>

## GET /sra/v3/orders

Retrieves a list of orders given query parameters.

<Notification type="alert">This endpoint is paginated.</Notification>

### Request

All the fields below are filter fields on the [signed orders](/docs/api#signed-order) that could be returned in the response.

| Field                   | Description                                                                                                                                                                                                                                                                                                                                       |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `makerAssetProxyId`     | (Optional) The asset proxy ID part of the maker [asset data](/docs/guides/v3-specification#assetdata). Example: `0xf47261b0` for ERC20, `0x02571792` for ERC721.                                                                                                                                                                                  |
| `takerAssetProxyId`     | (Optional) The asset proxy ID ID part of the taker [asset data](/docs/guides/v3-specification#assetdata). Example: `0xf47261b0` for ERC20, `0x02571792` for ERC721.                                                                                                                                                                               |
| `makerAssetAddress`     | (Optional) The contract address part of the maker [asset data](/docs/guides/v3-specification#assetdata).                                                                                                                                                                                                                                          |
| `takerAssetAddress`     | (Optional) The contract address part of the taker [asset data](/docs/guides/v3-specification#assetdata).                                                                                                                                                                                                                                          |
| `makerAddress`          | (Optional) The party that creates the order. The maker is also one of the two parties that will be involved in the trade if the order gets filled.                                                                                                                                                                                                |
| `takerAddress`          | (Optional) The party that is allowed to fill the order. If set to a specific party, the order cannot be filled by anyone else. If left unspecified, anyone can fill the order.                                                                                                                                                                    |
| `makerAssetData`        | (Optional) Contains all the identifying information about the asset(s) the order maker is trying to sell.                                                                                                                                                                                                                                         |
| `takerAssetData`        | (Optional) Identifying information of the asset(s) the taker must trade in exchange for the maker's asset(s).                                                                                                                                                                                                                                     |
| `traderAssetData`       | (Optional) Filters for either the `takerAssetData` or the `makerAssetData`.                                                                                                                                                                                                                                                                       |
| `makerAssetAmount`      | (Optional) Amount of the maker's asset(s) being offered by the maker.                                                                                                                                                                                                                                                                             |
| `takerAssetAmount`      | (Optional) Amount of the taker's asset(s) the maker will accept in exchange for their maker asset(s). In order to calculate the price the maker is offering, one can divide the `makerAssetAmount` by the `takerAssetAmount` (the calculation is [a bit more complex](/docs/guides/v3-specification#assetproxy) if multiple assets are involved). |
| `feeRecipientAddress`   | (Optional) The entity that will receive any fees stipulated by the order. This is typically used to incentivize off-chain order relay.                                                                                                                                                                                                            |
| `makerFeeAssetData`     | (Optional) Identifying token information of the asset(s) the maker must pay to the feeRecipientAddress.                                                                                                                                                                                                                                           |
| `takerFeeAssetData`     | (Optional) Identifying token information of the asset(s) the taker must pay to the feeRecipientAddress.                                                                                                                                                                                                                                           |
| `senderAddress`         | (Optional) An advanced field that doesn't need to be set. It allows the maker to enforce that the order flow through some additional logic before it can be filled (e.g., a KYC whitelist) -- more on the ability to extend 0x later.                                                                                                             |


### Response

#### Record

| Field         | Description                                                                                                        |
| ------------- | -------------------------------------------------------------------------------------------------------------------|
| `order`       | Raw [signed order](/docs/api#signed-order).                                                                        |
| `metaData`    | Object where optional meta-data will be included, such as the `orderHash` and `remainingFillableTakerAssetAmount`. |

### Examples

#### Get All Orders Selling WETH

<HttpCall path="/sra/v3/orders?makerAssetData=0xf47261b...756cc2" />

<CodeTabs tabs={['200 - OK']}>

```json
{
  "total": 111,
  "page": 1,
  "perPage": 20,
  "records": [
    {
      "order": {
        "signature": "0x1b619623be7d177f19c2e987fa974ded5c000dd5c6dfdcb7cd17da31fe2cd94aef19ab0ffb2b29f66142a754ddb165c0d2ddc98fcb45ca7a348e4c05c77216c60103",
        "senderAddress": "0x0000000000000000000000000000000000000000",
        "makerAddress": "0x320c38912b1611a0706c0a74427f64fa5dc3598e",
        "takerAddress": "0x0000000000000000000000000000000000000000",
        "makerFee": "0",
        "takerFee": "0",
        "makerAssetAmount": "47479678912656000",
        "takerAssetAmount": "43835664000000000000",
        "makerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "takerAssetData": "0xf47261b00000000000000000000000004fbb350052bca5417566f188eb2ebce5b19bc964",
        "salt": "1576832996",
        "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
        "feeRecipientAddress": "0xc898fbee1cc94c0ff077faa5449915a506eff384",
        "expirationTimeSeconds": "1576876106",
        "makerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "chainId": 1,
        "takerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
      },
      "metaData": {
        "orderHash": "0xa1e06a98da1e56bd61e81c3d9de8cbe443618ad3d77a9ba6cf0562aeaa29e1a6",
        "remainingFillableTakerAssetAmount": "43835664000000000000"
      }
    },
  ]
}

```
</CodeTabs>

## POST /sra/v3/order

Submit a signed order to [0x Mesh](https://0x-org.gitbook.io/mesh/).

### Request

A [signed order](/docs/api#signed-order).

### Response

No response fields when successful. An [error](/docs/api#errors) when unsuccessful.

### Examples

#### Post an Order

<HttpCall verb="POST" path="/sra/v3/order" >

```json

{
    "signature": "0x1b619623be7d177f19c2e987fa974ded5c000dd5c6dfdcb7cd17da31fe2cd94aef19ab0ffb2b29f66142a754ddb165c0d2ddc98fcb45ca7a348e4c05c77216c60103",
    "senderAddress": "0x0000000000000000000000000000000000000000",
    "makerAddress": "0x320c38912b1611a0706c0a74427f64fa5dc3598e",
    "takerAddress": "0x0000000000000000000000000000000000000000",
    "makerFee": "0",
    "takerFee": "0",
    "makerAssetAmount": "47479678912656000",
    "takerAssetAmount": "43835664000000000000",
    "makerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "takerAssetData": "0xf47261b00000000000000000000000004fbb350052bca5417566f188eb2ebce5b19bc964",
    "salt": "1576832996",
    "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
    "feeRecipientAddress": "0xc898fbee1cc94c0ff077faa5449915a506eff384",
    "expirationTimeSeconds": "1576876106",
    "makerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "chainId": 1,
    "takerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
}

```

</HttpCall>

<CodeTabs tabs={['200 - OK']}>

```json
Empty response body
```

</CodeTabs>

## POST /sra/v3/orders

Submit a list of signed orders to [0x Mesh](https://0x-org.gitbook.io/mesh/).

### Request

A list of [signed orders](/docs/api#signed-order).

### Response

No response fields when successful. An [error](/docs/api#errors) when unsuccessful.

### Examples

#### Post some Orders

<HttpCall verb="POST" path="/sra/v3/orders" >

```json
[
    {
        "signature": "0x1b619623be7d177f19c2e987fa974ded5c000dd5c6dfdcb7cd17da31fe2cd94aef19ab0ffb2b29f66142a754ddb165c0d2ddc98fcb45ca7a348e4c05c77216c60103",
        "senderAddress": "0x0000000000000000000000000000000000000000",
        "makerAddress": "0x320c38912b1611a0706c0a74427f64fa5dc3598e",
        "takerAddress": "0x0000000000000000000000000000000000000000",
        "makerFee": "0",
        "takerFee": "0",
        "makerAssetAmount": "47479678912656000",
        "takerAssetAmount": "43835664000000000000",
        "makerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "takerAssetData": "0xf47261b00000000000000000000000004fbb350052bca5417566f188eb2ebce5b19bc964",
        "salt": "1576832996",
        "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
        "feeRecipientAddress": "0xc898fbee1cc94c0ff077faa5449915a506eff384",
        "expirationTimeSeconds": "1576876106",
        "makerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "chainId": 1,
        "takerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
    },
    {
        "chainId": 1,
        "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
        "makerAddress": "0x34a745008a643EebC58920eaa29Fb1165b4A288E",
        "takerAddress": "0x0000000000000000000000000000000000000000",
        "senderAddress": "0x0000000000000000000000000000000000000000",
        "feeRecipientAddress": "0x0000000000000000000000000000000000000000",
        "expirationTimeSeconds": "1581622438",
        "salt": "57463001705562505303173771608709981140201802981513964194805445934931647828038",
        "makerAssetAmount": "7",
        "takerAssetAmount": "7",
        "makerAssetData": "0xf47261b0000000000000000000000000e41d2489571d322189246dafa5ebde1f4699f498",
        "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "makerFeeAssetData": "0x",
        "takerFeeAssetData": "0x",
        "makerFee": "0",
        "takerFee": "0",
        "signature": "0x1ca5c47bb11eb911e9130463ac01fb4ef2754e852161350468d2ef4006d3b82773477e810d2c53765cc308359f49b9a4497ec50e60c1e68e80849e333ad6ee62e002"
    }
]

```

</HttpCall>

<CodeTabs tabs={['200 - OK']}>

```json
Empty response body
```

</CodeTabs>

## GET /sra/v3/order/:orderHash:

Retrieves a specific order by orderHash.

### Request

| Path Params   | Description                                                                          |
| ------------- | -------------------------------------------------------------------------------------|
| `orderHash`   | The hash of the desired [signed order](/docs/api#signed-order).                      |


### Response

| Field         | Description                                                                                                        |
| ------------- | -------------------------------------------------------------------------------------------------------------------|
| `order`       | Raw [signed orders](/docs/api#signed-order).                                                                       |
| `metaData`    | Object where optional meta-data will be included, such as the `orderHash` and `remainingFillableTakerAssetAmount`. |

### Examples

#### Get an Order

<HttpCall path="/sra/v3/order/0xa1e06a9...eaa29e1a6" />

<CodeTabs tabs={['200 - OK']}>

```json
{
    "order": {
    "signature": "0x1b619623be7d177f19c2e987fa974ded5c000dd5c6dfdcb7cd17da31fe2cd94aef19ab0ffb2b29f66142a754ddb165c0d2ddc98fcb45ca7a348e4c05c77216c60103",
    "senderAddress": "0x0000000000000000000000000000000000000000",
    "makerAddress": "0x320c38912b1611a0706c0a74427f64fa5dc3598e",
    "takerAddress": "0x0000000000000000000000000000000000000000",
    "makerFee": "0",
    "takerFee": "0",
    "makerAssetAmount": "47479678912656000",
    "takerAssetAmount": "43835664000000000000",
    "makerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "takerAssetData": "0xf47261b00000000000000000000000004fbb350052bca5417566f188eb2ebce5b19bc964",
    "salt": "1576832996",
    "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
    "feeRecipientAddress": "0xc898fbee1cc94c0ff077faa5449915a506eff384",
    "expirationTimeSeconds": "1576876106",
    "makerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
    "chainId": 1,
    "takerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
    },
    "metaData": {
    "orderHash": "0xa1e06a98da1e56bd61e81c3d9de8cbe443618ad3d77a9ba6cf0562aeaa29e1a6",
    "remainingFillableTakerAssetAmount": "43835664000000000000"
    }
}
```
</CodeTabs>

## GET /sra/v3/orderbook

Retrieves the orderbook for a given asset pair.

<Notification type="alert">This endpoint is paginated.</Notification>

### Request

| Query Params      | Description
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `baseAssetData`   | [Asset data](/docs/guides/v3-specification#assetdata) (`makerAssetData` or `takerAssetData`) designated as the base currency in the currency pair calculation of price.   |
| `quoteAssetData`  | [Asset data](/docs/guides/v3-specification#assetdata) (`makerAssetData` or `takerAssetData`) designated as the quote currency in the currency pair calculation of price.  |


### Response

Bids will be sorted in descending order by price, and asks will be sorted in ascending order by price.
Within the price sorted orders, the orders are further sorted by taker fee price which is defined as the takerFee divided by takerTokenAmount.
After taker fee price, orders are sorted by expiration in ascending order.

| Field     | Description                                                                                                      |
| --------- | ---------------------------------------------------------------------------------------------------------------- |
| `bids`    | [Paginated](#pagination) collection of SRA signed orders (below) where `takerAssetData` is equal to `baseAssetData`. |
| `asks`    | [Paginated](#pagination) collection of SRA signed orders (below) where `makerAssetData` is equal to `baseAssetData`. |

#### Record

| Field         | Description                                                                                                        |
| ------------- | -------------------------------------------------------------------------------------------------------------------|
| `order`       | Raw [signed order](/docs/api#signed-order).                                                                        |
| `metaData`    | Object where optional meta-data will be included, such as the `orderHash` and `remainingFillableTakerAssetAmount`. |

### Examples

#### Get the WETH/DAI Orderbook

<HttpCall fontSize="14px" path="/sra/v3/orderbook?baseAssetData=0xf472...6cc2&quoteAssetData=0xf472...71d0f" />

<CodeTabs tabs={['200 - OK']}>

```json
{
  "bids": {
    "total": 11,
    "page": 1,
    "perPage": 20,
    "records": [
      {
        "order": {
          "signature": "0x1bf822f726ddb49209f94696314e2e65fa55f42de0b46ffbd714b44cd7602211415ee930b68b33d4c5d8ac3fcc7bcd0872d456bc7b686e79f3b1f616629a7f81f403",
          "senderAddress": "0x0000000000000000000000000000000000000000",
          "makerAddress": "0xb0dd0dcada73b715e3b5567ab17bd7f37216a637",
          "takerAddress": "0x0000000000000000000000000000000000000000",
          "makerFee": "0",
          "takerFee": "0",
          "makerAssetAmount": "1199999999999999999987",
          "takerAssetAmount": "9339066482479522151",
          "makerAssetData": "0xf47261b00000000000000000000000006b175474e89094c44da98b954eedeac495271d0f",
          "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
          "salt": "1576878022002",
          "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
          "feeRecipientAddress": "0x0000000000000000000000000000000000000000",
          "expirationTimeSeconds": "1576878262",
          "makerFeeAssetData": "0x",
          "chainId": 1,
          "takerFeeAssetData": "0x"
        },
        "metaData": {
          "orderHash": "0xb507799d6457f3f451f0a6d52ab6df33b5be27a11e58ee11cd7cdfb890f4f986",
          "remainingFillableTakerAssetAmount": "9339066482479522151"
        }
      },
    ]
  },
  "asks": {
    "total": 10,
    "page": 1,
    "perPage": 20,
    "records": [
      {
        "order": {
          "signature": "0x1b6bd23a7551081bcaa33a3b51e39d501ffd3eded1b0690790b1302c46acc5d17b746c660445d1f8d4cb95fe92f30ab0fa2f1a8eb949abd6d882aa8d72a853656902",
          "senderAddress": "0x0000000000000000000000000000000000000000",
          "makerAddress": "0x998497ffc64240d6a70c38e544521d09dcd23293",
          "takerAddress": "0x0000000000000000000000000000000000000000",
          "makerFee": "0",
          "takerFee": "0",
          "makerAssetAmount": "40000000000000000000",
          "takerAssetAmount": "5165103816000000000000",
          "makerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
          "takerAssetData": "0xf47261b00000000000000000000000006b175474e89094c44da98b954eedeac495271d0f",
          "salt": "1576877968657",
          "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
          "feeRecipientAddress": "0x0000000000000000000000000000000000000000",
          "expirationTimeSeconds": "1576878093",
          "makerFeeAssetData": "0x",
          "chainId": 1,
          "takerFeeAssetData": "0x"
        },
        "metaData": {
          "orderHash": "0xa9ba945219bc831409bc7edf30fd11f267cc1992aa24320c2307825d2138ab98",
          "remainingFillableTakerAssetAmount": "5165103816000000000000"
        }
      },
    ]
  }
}

```
</CodeTabs>

## POST /sra/v3/order_config

Send a partial [signed order](/docs/api#signed-order) to this endpoint to receive the rest of configuration-oriented fields.
This response is currently static.

### Request

| Body Field              | Description                                                                                                                                                                                                                                                                                                                            |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `makerAddress`          | The party that creates the order. The maker is also one of the two parties that will be involved in the trade if the order gets filled.                                                                                                                                                                                                |
| `takerAddress`          | The party that is allowed to fill the order. If set to a specific party, the order cannot be filled by anyone else. If left unspecified, anyone can fill the order.                                                                                                                                                                    |
| `makerAssetData`        | Contains all the identifying information about the asset(s) the order maker is trying to sell.                                                                                                                                                                                                                                         |
| `takerAssetData`        | Identifying information of the asset(s) the taker must trade in exchange for the maker's asset(s).                                                                                                                                                                                                                                     |
| `makerAssetAmount`      | Amount of the maker's asset(s) being offered by the maker.                                                                                                                                                                                                                                                                             |
| `takerAssetAmount`      | Amount of the taker's asset(s) the maker will accept in exchange for their maker asset(s). In order to calculate the price the maker is offering, one can divide the `makerAssetAmount` by the `takerAssetAmount` (the calculation is [a bit more complex](/docs/guides/v3-specification#assetproxy) if multiple assets are involved). |
| `expirationTimeSeconds` | Timestamp in seconds of when the order expires. Expired orders cannot be filled.                                                                                                                                                                                                                                                       |
| `exchangeAddress`       | The address of the 0x exchange smart contract that will settle the order.                                                                                                                                                                                                                                                              |

### Response

| Field                     | Description                                                                                                                                                                                                                                                                                                                           |
| ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `feeRecipientAddress`     | The entity that will receive any fees stipulated by the order. This is typically used to incentivize off-chain order relay.                                                                                                                                                                                                           |
| `makerFeeAssetData`       | Identifying token information of the asset(s) the maker must pay to the `feeRecipientAddress`.                                                                                                                                                                                                                                        |
| `takerFeeAssetData`       | Identifying token information of the asset(s) the taker must pay to the `feeRecipientAddress`.                                                                                                                                                                                                                                        |
| `senderAddress`           | An advanced field that doesn't need to be set. It allows the maker to enforce that the order flow through some additional logic before it can be filled (e.g., a KYC whitelist) -- more on the ability to extend 0x later.                                                                                                            |
| `makerFee`                | The fee to be paid by the order maker to the `feeRecipientAddress` in the event of an order fill. Partial fills result in partial fees.                                                                                                                                                                                               |
| `takerFee`                | The fee to be paid by the taker to the `feeRecipientAddress` in the event of an order fill.                                                                                                                                                                                                                                           |

### Examples

#### Get an Order Configuration

<HttpCall verb="POST" path="/sra/v3/order_config">

```json
{
    "exchangeAddress": "0x12459c951127e0c374ff9105dda097662a027093",
    "makerAddress": "0x9e56625509c2f60af937f23b7b532600390e8c8b",
    "takerAddress": "0xa2b31dacf30a9c50ca473337c01d8a201ae33e32",
    "makerAssetAmount": "10000000000000000",
    "takerAssetAmount": "20000000000000000",
    "makerAssetData": "0xf47261b0000000000000000000000000e41d2489571d322189246dafa5ebde1f4699f498",
    "takerAssetData": "0x02571792000000000000000000000000371b13d97f4bf77d724e78c16b7dc74099f40e840000000000000000000000000000000000000000000000000000000000000063",
    "expirationTimeSeconds": "1532560590"
}
```

</HttpCall>

<CodeTabs tabs={['200 - OK']}>

```json
{
    "senderAddress": "0xa2b31dacf30a9c50ca473337c01d8a201ae33e32",
    "feeRecipientAddress": "0xb046140686d052fff581f63f8136cce132e857da",
    "makerFee": "100000000000000",
    "takerFee": "200000000000000",
    "makerFeeAssetData": "0xf47261b0000000000000000000000000e41d2489571d322189246dafa5ebde1f4699f498",
    "takerFeeAssetData": "0xf47261b0000000000000000000000000e41d2489571d322189246dafa5ebde1f4699f498"
}
```
</CodeTabs>

## GET /sra/v3/fee_recipients

Retrieves a list of valid feeRecipient addresses.

<Notification type="alert">This endpoint is paginated.</Notification>

### Request

No request params.

### Response

#### Record

A valid Ethereum address(s).

### Examples

#### Get Fee Recipients

<HttpCall path="/sra/v3/fee_recipients" />

<CodeTabs tabs={['200 - OK']}>

```json
{
  "total": 1,
  "page": 1,
  "perPage": 20,
  "records": [
    "0x0000000000000000000000000000000000000000"
  ]
}
```
</CodeTabs>

## Websocket API

The Standard Relayer API also exposes a websocket server at the root endpoint.

| Network | Endpoint                      |
| ------- | ----------------------------- |
| Mainnet | wss://api.0x.org/sra/v3       |
| Kovan   | wss://kovan.api.0x.org/sra/v3 |

The server will allow you to subscribe to 0x order updates in [0x Mesh](https://0x-org.gitbook.io/mesh/),
and will push updates whenever the "fillability" of an order changes.
In practice, this will happen whenever a new order is added, an order is cancelled, or an order is filled.
At the moment, the update message will not specify the exact reason for the update.

All messages (both request, and response) adhere to the format below:

| Field          | Description                                                                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------|
| `type`         | The type of message being sent. Only "subscribe" is supported for now.                                                                                    |
| `channel`      | The topic of the messaging. Only "orders" is supported for now.                                                                                           |
| `requestId`    | A string uuid that will be sent back by the server in response messages so the client can appropriately respond when multiple subscriptions are made.     |
| `payload`      | (Optional) A JSON object documented below, that contains the body of the message.                                                                         |

### Request

| Field                   | Description                                                                                                                                                                                                                                                                                                                                       |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `makerAssetProxyId`     | (Optional) The asset proxy ID part of the maker [asset data](/docs/guides/v3-specification#assetdata). Example: `0xf47261b0` for ERC20, `0x02571792` for ERC721.                                                                                                                                                                                  |
| `takerAssetProxyId`     | (Optional) The asset proxy ID ID part of the taker [asset data](/docs/guides/v3-specification#assetdata). Example: `0xf47261b0` for ERC20, `0x02571792` for ERC721.                                                                                                                                                                               |
| `makerAssetAddress`     | (Optional) The contract address part of the maker [asset data](/docs/guides/v3-specification#assetdata).                                                                                                                                                                                                                                          |
| `takerAssetAddress`     | (Optional) The contract address part of the taker [asset data](/docs/guides/v3-specification#assetdata).                                                                                                                                                                                                                                          |
| `makerAssetData`        | (Optional) Contains all the identifying information about the asset(s) the order maker is trying to sell.                                                                                                                                                                                                                                         |
| `takerAssetData`        | (Optional) Identifying information of the asset(s) the taker must trade in exchange for the maker's asset(s).                                                                                                                                                                                                                                     |
| `traderAssetData`       | (Optional) Filters for either the `takerAssetData` or the `makerAssetData`.                                                                                                                                                                                                                                                                       |

### Response

A list consisting of signed orders with metaData.

| Field         | Description                                                                                                        |
| ------------- | -------------------------------------------------------------------------------------------------------------------|
| `order`       | Raw [signed orders](/docs/api#signed-order).                                                                       |
| `metaData`    | Object where optional meta-data will be included, such as the `orderHash` and `remainingFillableTakerAssetAmount`. |

### Examples

#### Subscribe to All Order Updates

<CodeTabs tabs={['Request']}>

```json
{
    "type": "subscribe",
    "channel": "orders",
    "requestId": "123e4567-e89b-12d3-a456-426655440000"
}
```
</CodeTabs>


<CodeTabs tabs={['Update']}>

```json
{
  "type": "update",
  "channel": "orders",
  "payload": [
    {
      "order": {
        "chainId": 1,
        "exchangeAddress": "0x61935cbdd02287b511119ddb11aeb42f1593b7ef",
        "makerAddress": "0x6924a03bb710eaf199ab6ac9f2bb148215ae9b5d",
        "makerAssetData": "0xf47261b000000000000000000000000089d24a6b4ccb1b6faa2625fe562bdd9a23260359",
        "makerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "makerAssetAmount": "9801000000000000000000",
        "makerFee": "0",
        "takerAddress": "0x0000000000000000000000000000000000000000",
        "takerAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "takerFeeAssetData": "0xf47261b0000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "takerAssetAmount": "57528575831456142732",
        "takerFee": "0",
        "senderAddress": "0x0000000000000000000000000000000000000000",
        "feeRecipientAddress": "0xa258b39954cef5cb142fd567a46cddb31a670124",
        "expirationTimeSeconds": "1579315756",
        "salt": "1579315576818",
        "signature": "0x1c193301e31de7ce08e38c99854b620060506b7a685f9c65852c230623a6fb3df97373cf84c63112274fc09f95f657a9e55b9ab9771303693168dd07df0c9d56c503"
      },
      "metaData": {
        "orderHash": "0x35d09c7e163da5c94d8ee2ac311190051a8dfdc10cfd497fd79dc422d3fb8b43",
        "remainingFillableTakerAssetAmount": "57528575831456142732"
      }
    }
  ],
  "requestId": "123"
}
```
</CodeTabs>
